<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Crear alertas :: Documentación de Grafana</title>
    <link rel="canonical" href="https://aumandaris.github.io/ceos-grafana-docs/ceos-grafana-docs/7.5.x/index.html/ceos-grafana-docs/7.5.x/alertas/crear-alertas.adpc.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://aumandaris.github.io/ceos-grafana-docs/ceos-grafana-docs/7.5.x/index.html">
        <img src="/ceos-grafana-docs/ceos-grafana-docs/7.5.x/_images/logo.png" width="100">
        <span>| Documentación de Grafana<span>     
      </a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ceos-grafana-docs" data-version="7.5.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Documentación de Grafana</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../comenzando/comenzando.html">Comenzando</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comenzando/con-grafana.html">Con Grafana</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comenzando/con-grafana-y-prometheus.html">Con Grafana y Prometheus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comenzando/series-de-tiempo.html">Series de tiempo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comenzando/dimensiones-de-las-series-de-tiempo.html">Dimensiones de las series de tiempo.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../comenzando/glosario.html">Glosario</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../autenticacion/autenticacion.html">Autenticación</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../autenticacion/autenticacion-de-grafana.html">Autenticación de Grafana</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../instalacion/instalacion.html">Instalación</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../instalacion/requisitos.html">Requisitos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../instalacion/instalar-en-windows.html">Instalar en Windows</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../instalacion/actualizar-grafana.html">Actualizar Grafana</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../instalacion/reiniciar-grafana.html">Reiniciar Grafana</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administracion/administracion.html">Administración</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administracion/preferencias.html">Preferencias</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/preferencias/cambiar-nombre-y-correo-electronico.html">Cambiar nombre y correo electrónico</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/preferencias/cambiar-el-tema-de-la-interfaz-de-usuario.html">Cambiar el tema de la interfaz de usuario</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/preferencias/cambiar-tablero-de-inicio.html">Camniar tablero de inicio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#administracion/preferencias/cambiar-zona-horaria-predeterminada.adoc">Cambiar zona horaria predeterminada</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administracion/ver-servidor.html">Ver servidor</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/ver-servidor/metricas-internas-de-grafana.html">Métricas internas de Grafana</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/ver-servidor/ver-configuracion-del-servidor.html">Ver configuración del servidor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administracion/ver-servidor/ver-estadisticas-del-servidor.html">Ver estadísticas del servidor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administracion/configuracion.html">Configuración</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administracion/cli-de-grafana.html">CLI de Grafana</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administracion/seguridad.html">Seguridad</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administrar-usuarios/administrar-usuarios.html">Administrar usuarios</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administrar-usuarios/tareas-de-administrador-de-servidor.html">Tareas de administrador de servidor</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administrar-usuarios/tareas-de-administrador-de-servidor/administrar-usuarios.html">Administrar usuarios</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administrar-usuarios/tareas-de-administrador-de-servidor/administrar-organizacion.html">Administrar organización</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administrar-usuarios/tareas-de-administrador-de-organizacion.html">Tareas de administrador de organización</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#administrar-usuarios/administar-equipos.adoc">Administrar equipos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../administrar-usuarios/tareas-de-la-cuenta-de-usuario.html">Tareas de la cuenta de usuario</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../administrar-usuarios/tareas-de-la-cuenta-de-usuario/perfil-de-cuenta-de-usuario.html">Perfil de cuenta de uruario</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#administrar-usuarios/tareas-de-la-cuenta-de-usuario/cambiar-su-contraseña">Cambiar su contraseña</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#administrar-usuarios/tareas-de-la-cuenta-de-usuario/cambiar-organizacion">Cambiar organización</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../permisos/permisos.html">Permisos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../permisos/roles-de-la-organizacion.html">Roles de la organización</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../permisos/permisos-de-tablero-y-carpeta.html">Permiso de tablero y carpeta</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#permisos/restringir-acceso">Restringit acceso</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../permisos/permisos-de-fuente-de-datos.html">Permisos de fuente de datos</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../fuentes-de-datos/fuentes-de-datos.html">Fuentes de datos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#fuentes-de-datos/agregar-una-fuente-de-datos.adoc">Agregar una fuente de datos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fuentes-de-datos/loki.html">Loki</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fuentes-de-datos/prometheus.html">Prometheus</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/paneles.html">Paneles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/agregar-un-panel.html">Agregar un panel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/editor-de-paneles.html">Editor de paneles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/lista-de-calculos.html">Lista de cálculos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/consultas.html">Consultas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/umbrales.html">Umbrales</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/transformaciones.html">Transformaciones</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/transformaciones/aplicar-transformaciones.html">Aplicar transformaciones</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/transformaciones/tipos-y-opciones-de-transformacion.html">Tipos y opciones de transformación</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/compartir-resultados-de-la-consulta.html">Compartir resultados de la consulta</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/inspeccionar-un-panel.html">Inspeccionar un panel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/opciones-de-campo-y-anulaciones.html">Opciones de campo y anulaciones</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/opciones-de-campo-y-anulaciones/configurar-todos-los-campos.html">Configurar todos los campos</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/opciones-de-campo-y-anulaciones/configurar-campos-especificos.html">Configurar campos específicos</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/opciones-de-campo-y-anulaciones/opciones-de-campo-estandar.html">Opciones de campo estándar</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/visualizaciones.html">Visualizaciones</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/opciones-de-leyenda-del-panel.html">Opciones de leyenda del panel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-lista-de-alertas.html">Panel de lista de alertas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-medidor-de-barra.html">Panel de medidor de barra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-lista-de-tableros.html">Panel de lista de tableros</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-medidor.html">Panel de medidor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-grafico.html">Panel de gráfico</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-mapa-de-calor.html">Panel de mapa de calor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-registros.html">Panel de registros</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#paneles/visualizaciones/panel-de-noticias">Panel de noticias</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#paneles/visualizaciones/panel-de-grafico-de-nodo.adoc">Panel de gráfico de nodo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-grafico-circular.html">Panel de gráfico circular</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-estadisticas.html">Panel de estadísticas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-tabla.html">Panel de tabla</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-tabla/opciones-de-campo-de-tabla.html">Opciones de campo de tabla</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-tabla/filtrar-columnas-de-la-tabla.html">Filtrar columnas de la tabla</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-texto.html">Panel de texto</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-series-de-tiempo.html">Panel de series de tiempo</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-series-de-tiempo/graficar-series-de-tiempo-como-lineas.html">Graficar series de tiempo como líneas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-series-de-tiempo/graficar-series-de-tiempo-como-lineas.html">Graficar series de tiempo como líneas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-series-de-tiempo/graficar-series-de-tiempo-como-lineas.html">Graficar series de tiempo como líneas</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../paneles/visualizaciones/panel-de-series-de-tiempo/cambiar-visualizacion-del-eje.html">Cambiar visualización del eje</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../paneles/expresiones.html">Expresiones</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tableros/tableros.html">Tableros</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../compartir/compartir.html">Compartir</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../explorar/explorar.html">Explorar</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="alertas.html">Alertas</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../solucion-de-problemas/solucion-de-problemas.html">Solución de problemas</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentación de Grafana</span>
    <span class="version">7.5.x</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Documentación de Grafana</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">7.5.x</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Documentación de Grafana</a></li>
    <li><a href="crear-alertas.adpc.html">Crear alertas</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Aumandaris/ceos-grafana-docs/edit/master/modules/ROOT/pages/alertas/crear-alertas.adpc.adoc">Editar esta página</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Crear alertas</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Las alertas de Grafana le permiten adjuntar reglas a los paneles de su tablero. Cuando guarda el tablero, Grafana extrae las reglas de alerta en un almacenamiento de reglas de alerta separado y las programa para su evaluación.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/image186.gif" alt="Alerting overview" width="624" height="475">
</div>
</div>
<div class="paragraph">
<p>En la pestaña Alerta del panel de gráficos, puede configurar la frecuencia con la que se debe evaluar la regla de alerta y las condiciones que deben cumplirse para que la alerta cambie de estado y active sus <a href="notificaciones-de-alertas.html" class="page">notificaciones</a>.</p>
</div>
<div class="paragraph">
<p>Actualmente, solo el panel de gráficos admite reglas de alerta.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_agregar_o_editar_una_regla_de_alerta"><a class="anchor" href="#_agregar_o_editar_una_regla_de_alerta"></a>Agregar o editar una regla de alerta</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navegue hasta el panel para el que desea agregar o editar una regla de alerta, haga clic en el título y luego en <strong>Editar</strong>.</p>
</li>
<li>
<p>En la pestaña Alerta, haga clic en <strong>Crear alerta</strong>. Si ya existe una alerta para este panel, puede editar los campos en la pestaña Alerta.</p>
</li>
<li>
<p>Complete los campos. Las descripciones se enumeran a continuación en los <a href="#_campos_de_reglas_de_alerta">Campos de reglas de alerta</a>.</p>
</li>
<li>
<p>Cuando haya terminado de escribir su regla, haga clic en <strong>Guardar</strong> en la esquina superior derecha para guardar la regla de alerta y el tablero.</p>
</li>
<li>
<p>(Opcional pero recomendado) Haga clic en <strong>Probar regla</strong> para asegurarse de que la regla devuelva los resultados esperados.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eliminar_una_alerta"><a class="anchor" href="#_eliminar_una_alerta"></a>Eliminar una alerta</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para eliminar una alerta, desplácese hasta la parte inferior de la alerta y luego haga clic en <strong>Eliminar</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_campos_de_reglas_de_alerta"><a class="anchor" href="#_campos_de_reglas_de_alerta"></a>Campos de reglas de alerta</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta sección describe los campos que llena para crear una alerta.</p>
</div>
<div class="sect2">
<h3 id="_regla"><a class="anchor" href="#_regla"></a>Regla</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Nombre:</strong> ingrese un nombre descriptivo. El nombre se mostrará en la lista de reglas de alerta. Este campo admite <a href="plantillas-de-notificaciones-de-alertas.html" class="page">plantillas</a>.</p>
</li>
<li>
<p><strong>Evaluar cada:</strong> especifique la frecuencia con la que el programador debe evaluar la regla de alerta. Esto se conoce como <em>intervalo de evaluación</em>.</p>
</li>
<li>
<p><strong>Por:</strong> especifique cuánto tiempo necesita la consulta para violar los umbrales configurados antes de que se active la notificación de alerta.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Puede establecer un intervalo de evaluación mínimo en el campo de configuración <code>alerting.min_interval_seconds</code>, para establecer un tiempo mínimo entre evaluaciones. Consulte Configuración para obtener más información.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>No utilice <code>For</code> con el ajuste <code>If no data or all values are null</code> establecido en <code>No Data</code>. La activación de <code>No Data</code> se activará instantáneamente y no se tendrá en cuenta <code>For</code>. Esto también puede provocar que no se envíe una notificación OK si la alerta cambia de <code>No Data &#8594; Pending &#8594; OK</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si una regla de alerta tiene configurado <code>For</code> y la consulta viola el umbral configurado, primero pasará de <code>OK</code> a <code>Pending</code>. Pasar de <code>OK</code> a <code>Pending</code> Grafana no enviará ninguna notificación. Una vez que la regla de alerta se haya activado durante más de un período de duración de <code>For</code>, cambiará a <code>Alerting</code> y enviará notificaciones de alerta.</p>
</div>
<div class="paragraph">
<p>Por lo general, siempre es una buena idea usar esta configuración, ya que a menudo es peor obtener un falso positivo que esperar unos minutos antes de que se active la notificación de alerta. Si <code>Alert List</code> o <code>Alert list panels</code> observará las alertas pendientes.</p>
</div>
<div class="paragraph">
<p>A continuación, puede ver una línea de tiempo de ejemplo de una alerta utilizando la configuración <code>For</code>. A las ~16:04, el estado de alerta cambia a <code>Pending</code> y después de 4 minutos cambia a <code>Alerting</code>, que es cuando se envían las notificaciones de alerta. Una vez que la serie vuelve a la normalidad, la regla de alerta vuelve a estar <code>OK</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/image187.png" alt="Alerting For" width="624" height="179">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_condiciones"><a class="anchor" href="#_condiciones"></a>Condiciones</h3>
<div class="imageblock">
<div class="content">
<img src="../_images/image188.png" alt="Alerting Conditions" width="624" height="312">
</div>
</div>
<div class="paragraph">
<p>Actualmente, el único tipo de condición que existe es una condición de <code>Query</code> que le permite especificar una letra de consulta, un rango de tiempo y una función de agregación.</p>
</div>
<div class="sect3">
<h4 id="_ejemplo_de_condición_de_consulta"><a class="anchor" href="#_ejemplo_de_condición_de_consulta"></a>Ejemplo de condición de consulta</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">avg() OF query(A, 15m, now) IS BELOW 14</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>avg()</code> Controla cómo se deben reducir los valores de <strong>cada</strong> serie a un valor que se pueda comparar con el umbral. Haga clic en la función para cambiarla a otra función de agregación.</p>
</li>
<li>
<p><code>query(A, 15m, now)</code> La letra define qué consulta ejecutar desde la pestaña <strong>Métricas</strong>. Los dos segundos parámetros definen el rango de tiempo, <code>15m, now</code> significa 15 minutos atrás hasta ahora. También puede hacer <code>10m, now-2</code> para definir un rango de tiempo que será de hace 10 minutos a hace 2 minutos. Esto es útil si desea ignorar los últimos 2 minutos de datos.</p>
</li>
<li>
<p><code>IS BELOW 14</code> Define el tipo de umbral y el valor del umbral. Puede hacer clic en <code>IS BELOW</code> para cambiar el tipo de umbral.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La consulta utilizada en una regla de alerta no puede contener variables de plantilla. Actualmente solo admitimos operadores <code>AND</code> y <code>OR</code> entre condiciones y se ejecutan en serie. Por ejemplo, tenemos 3 condiciones en el siguiente orden: condición: <em>condition:A(evaluates to: TRUE) OR condition:B(evaluates to: FALSE) AND condition:C(evaluates to: TRUE)</em> por lo que el resultado se calculará como ((TRUE OR FALSE) AND TRUE) = TRUE.</p>
</div>
<div class="paragraph">
<p>Planeamos agregar otros tipos de condiciones en el futuro, como <code>Other Alert</code>, donde puede incluir el estado de otra alerta en sus condiciones y <code>Time of Day</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_múltiples_series"><a class="anchor" href="#_múltiples_series"></a>Múltiples series</h4>
<div class="paragraph">
<p>Si una consulta devuelve varias series, la función de agregación y la verificación de umbral se evaluarán para cada serie. Lo que Grafana no hace actualmente es rastrear el estado de la regla de alerta <strong>por serie</strong>. Esto tiene implicaciones que se detallan en el escenario siguiente.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Condición de alerta con consulta que devuelve 2 series: <strong>servidor1</strong> y <strong>servidor2</strong></p>
</li>
<li>
<p>La serie <strong>servidor1</strong> hace que la regla de alerta se active y cambie al estado <code>Alerting</code>.</p>
</li>
<li>
<p>Las notificaciones se envían con el mensaje: <em>pico de carga (servidor1)</em></p>
</li>
<li>
<p>En una evaluación posterior de la misma regla de alerta, la serie <strong>servidor2</strong> también hace que se active la regla de alerta.</p>
</li>
<li>
<p>No se envían nuevas notificaciones como la regla de alerta ya está en estado <code>Alerting</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Entonces, como puede ver en el escenario anterior, Grafana no enviará notificaciones cuando otras series hagan que se active la alerta si la regla ya está en estado <code>Alerting</code>. Para mejorar la compatibilidad con las consultas que devuelven varias series, planeamos realizar un seguimiento del estado <strong>por serie</strong> en una versión futura.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>A partir de Grafana v5.3, puede configurar recordatorios para que se envíen para las alertas activadas. Esto enviará notificaciones adicionales cuando se continúe disparando una alerta. Si otras series (como servidor2 en el ejemplo anterior) también hacen que se active la regla de alerta, se incluirán en la notificación de recordatorio. Dependiendo del canal de notificación que esté usando, es posible que pueda aprovechar esta función para identificar series nuevas/existentes que provocan que se active la alerta.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manejor_de_errores_y_falta_de_datos"><a class="anchor" href="#_manejor_de_errores_y_falta_de_datos"></a>Manejor de errores y falta de datos</h3>
<div class="paragraph">
<p>A continuación, se muestran las condiciones en las que puede configurar cómo el motor de evaluación de reglas debe manejar las consultas que no devuelven datos o solo valores nulos.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Opción Sin Datos</th>
<th class="tableblock halign-left valign-top">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No Data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establece el estado de regla de alerta a <code>NoData</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alerting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establece el estado de la regla de alerta en <code>Alerting</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep Last State</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mantiene el estado actual de la regla de alerta, sea cual sea.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ok</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No estoy seguro de por qué querrías enviarte una alerta cuando las cosas estén bien, pero podrías.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_errores_de_ejecución_o_tiempos_de_espera"><a class="anchor" href="#_errores_de_ejecución_o_tiempos_de_espera"></a>Errores de ejecución o tiempos de espera</h3>
<div class="paragraph">
<p>Dígale a Grafana cómo manejar la ejecución o los errores de tiempo de espera.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Opción de error o tiempo de espera</th>
<th class="tableblock halign-left valign-top">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alerting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establecer el estado de la regla de alerta en <code>Alerting</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep Last State</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mantiene el estado actual de la regla de alerta, sea cual sea.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Si tiene un almacén de series de tiempo no confiable desde el cual las consultas en algún momento se agotan o fallan al azar, puede configurar esta opción en <code>Keep Last State</code> para básicamente ignorarlas.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notificaciones"><a class="anchor" href="#_notificaciones"></a>Notificaciones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En la pestaña de alerta también puede especificar notificaciones de reglas de alerta junto con un mensaje detallado sobre la regla de alerta. El mensaje puede contener cualquier cosa, información sobre cómo podría resolver el problema, un vínculo al runbook, etc.</p>
</div>
<div class="paragraph">
<p>Las notificaciones reales se configuran y comparten entre múltiples alertas. Lea las <a href="notificaciones-de-alertas.html" class="page">Notificaciones de alerta</a> para obtener información sobre cómo configurar y configurar las notificaciones.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Enviar a:</strong> seleccione un canal de notificación de alerta si tiene uno configurado.</p>
</li>
<li>
<p><strong>Mensaje:</strong> ingrese un mensaje de texto que se enviará en el canal de notificación. Algunos notificadores de alertas admiten la transformación del texto a HTML u otros formatos enriquecidos. Este campo admite <a href="plantillas-de-notificaciones-de-alertas.html" class="page">plantillas</a>.</p>
</li>
<li>
<p><strong>Etiquetas:</strong> especifique una lista de etiquetas (clave/valor) que se incluirán en la notificación. Solo es compatible con <a href="notificaciones-de-alertas.html#_lista_de_notificadores_admitidos" class="page">algunos notificadores</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_historial_y_anotaciones_del_estado_de_alerta"><a class="anchor" href="#_historial_y_anotaciones_del_estado_de_alerta"></a>Historial y anotaciones del estado de alerta</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Los cambios de estado de alerta se registran en la tabla de anotaciones internas en la base de datos de Grafana. Los cambios de estado se visualizan como anotaciones en el panel de gráficos de la regla de alerta. También puede acceder al submenú <code>State history</code> en la pestaña de alerta para ver y borrar el historial del estado.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Esta página fue hecha usando la interfaz predeterminada de Antora.</p>
  <p>El código de esta interfaz está licenciado bajo los términos de la licencia MPL-2.0.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
