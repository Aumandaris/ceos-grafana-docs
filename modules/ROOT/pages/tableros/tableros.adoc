
== Tableros

=== Descripción general del tablero

Un _tablero_ es un conjunto de uno o más paneles organizados y dispuestos en una o más filas. Grafana se envía con una variedad de paneles. Grafana facilita la construcción de las consultas correctas y personaliza las propiedades de visualización para que puedas crear el tablero perfecto para tus necesidades. Cada panel puede interactuar con datos de cualquier fuente de datos de Grafana configurada (actualmente Graphite, Prometheus, Elasticsearch, InfluxDB, OpenTSDB, MySQL, PostgreSQL, Microsoft SQL Server y AWS Cloudwatch).

==== Interfaz de usuario del tablero

image:media\image145.png[https://grafana.com/static/img/docs/v50/dashboard_annotated.png,width=624,height=265]

[arabic]
. Alejar rango de tiempo
. Menú desplegable del selector de tiempo. Aquí puede acceder a opciones de rango de tiempo relativo, opciones de actualización automática y establecer rangos de tiempo absolutos personalizados.
. Botón de actualización manual. Hará que todos los paneles se actualicen (obtengan nuevos datos).
. Panel del tablero. Haga clic en el título del panel para editar paneles.
. Leyenda del gráfico. Puede cambiar los colores de la serie, el eje Y y la visibilidad de la serie directamente desde la leyenda.

==== Encabezado del tablero

Haga clic en el enlace nuevo Tablero en el lado derecho del selector de Tablero. Ahora tiene un Tablero en blanco.

image:media\image146.png[https://grafana.com/static/img/docs/v50/top_nav_annotated.png,width=624,height=99]

La imagen de arriba muestra el encabezado superior de un Tablero.

[arabic]
. {blank}
+
____
Alternar barra de menú lateral: esto alterna el menú lateral, lo que le permite concentrarse en los datos presentados en el tablero. El menú lateral proporciona acceso a funciones no relacionadas con un Tablero, como Usuarios, Organizaciones y Fuentes de datos.
____
. {blank}
+
____
Menú desplegable del tablero: este menú desplegable le muestra qué Tablero está viendo actualmente y le permite cambiar fácilmente a un nuevo Tablero. Desde aquí también puede crear un nuevo Tablero o carpeta, importar Tableros existentes y administrar listas de reproducción del Tablero.
____
. {blank}
+
____
Agregar Panel: agrega un nuevo panel al Tablero actual.
____
. {blank}
+
____
Destacar Tablero: Destaca (o desmarca) el Tablero actual. Los Tableros destacados aparecerán en su propio Tablero de inicio de forma predeterminada y son una forma conveniente de marcar los Tableros que le interesan.
____
. {blank}
+
____
Compartir Tablero: Comparta el tablero actual creando un enlace o una instantánea estática del mismo. Asegúrese de que el Tablero esté guardado antes de compartir.
____
. {blank}
+
____
Guardar tablero: el Tablero actual se guardará con el nombre del Tablero actual.
____
. {blank}
+
____
Configuración: administre la configuración y las funciones del Tablero, como Plantillas y Anotaciones.
____

==== Administrar tableros

El período de tiempo para el tablero se puede controlar mediante los controles de rango de tiempo en la parte superior derecha del tablero.

Los tableros pueden usar plantillas para hacerlos más dinámicos e interactivos.

Los tableros pueden usar anotaciones para mostrar datos de eventos en todos los paneles. Esto puede ayudar a correlacionar los datos de la serie temporal en el panel con otros eventos.

Puede compartir tableros de diversas formas.

Los paneles se pueden etiquetar y el selector de paneles proporciona acceso rápido y de búsqueda a todos los paneles de una organización en particular.

==== Filas

Una fila es un divisor lógico dentro de un tablero. Se utiliza para agrupar paneles.

Las filas siempre tienen 12 "unidades" de ancho. Estas unidades se escalan automáticamente dependiendo de la resolución horizontal de su navegador. Puede controlar el ancho relativo de los paneles dentro de una fila estableciendo su ancho específico.

Usamos una abstracción de unidades para que Grafana se vea genial en todos los tamaños de pantalla.

*Nota:* Con la funcionalidad MaxDataPoint, Grafana puede mostrarle el número perfecto de puntos de datos, independientemente de la resolución o el rango de tiempo.

Contraiga una fila haciendo clic en el título de la fila. Si guarda un tablero con una fila contraída, se guarda en ese estado y no carga esos gráficos hasta que expande la fila.

Utilice la función de filas repetidas para crear o eliminar dinámicamente filas enteras, que se pueden rellenar con paneles, según las variables de plantilla seleccionadas.

=== Anotaciones

==== Anotaciones

image:media\image147.png[https://grafana.com/static/img/docs/v46/annotations.png,width=624,height=245]

Las anotaciones proporcionan una forma de marcar puntos en el gráfico con eventos enriquecidos. Cuando pasa el cursor sobre una anotación, puede obtener la descripción del evento y las etiquetas del evento. El campo de texto puede incluir enlaces a otros sistemas con más detalle.

===== Anotaciones nativas

Grafana viene con un almacén de anotaciones nativo y la capacidad de agregar eventos de anotaciones directamente desde el panel de gráficos o mediante la API HTTP.

===== Agregar anotaciones

Manteniendo presionado Ctrl/Cmd+Clic. Agregar etiquetas a la anotación hará que se pueda buscar desde otros tableros.

====== Agregar eventos de regiones

También puede mantener presionada la tecla Ctrl/Cmd y seleccionar una región para crear una anotación de región.

====== Consulta incorporada

Después de agregar una anotación, aún estarán visibles. Esto se debe a la consulta de anotaciones incorporada que existe en todos los paneles. Esta consulta de anotación obtendrá todos los eventos de anotación que se originan en el tablero actual y los mostrará en el panel donde se crearon. Esto incluye anotaciones del historial de estado de alerta. Puede evitar que las anotaciones se obtengan y dibujen abriendo la configuración de *Anotaciones* (a través del menú de engranajes del Tablero) y modificando la consulta denominada Annotations & Alerts (Built-in).

Cuando copia un tablero con la función *Guardar como*, obtendrá una nueva identificación de tablero, por lo que las anotaciones creadas en el tablerode origen ya no serán visibles en la copia. Aún puede mostrarlos si agrega una nueva *Consulta de Anotación* y filtra por etiquetas. Pero esto solo funciona si las anotaciones en el tablero de origen tenían etiquetas por las que filtrar.

====== Consulta por etiqueta

Puede crear nuevas consultas de anotaciones que obtengan anotaciones del almacén de anotaciones nativo a través de la fuente de datos -- Grafana --y estableciendo _Filtrar por_ en Tags. Especifique al menos una etiqueta. Por ejemplo, cree una consulta de anotación con el nombre de outage y especifique una etiqueta llamada outage. Esta consulta mostrará todas las anotaciones que cree (desde cualquier tablero o mediante API) que tengan la etiqueta de outage. De forma predeterminada, si agrega varias etiquetas en la consulta de anotaciones, Grafana solo mostrará las anotaciones que tengan todas las etiquetas que proporcionó. Puede invertir el comportamiento habilitando Match any cualquiera, lo que significa que Grafana mostrará anotaciones que contengan al menos una de las etiquetas que proporcionó.

En Grafana v5.3 +, es posible utilizar variables de plantilla en la consulta de etiquetas. Entonces, si tiene un tablero que muestra estadísticas para diferentes servicios y una variable de plantilla que dicta qué servicios mostrar, ahora puede usar la misma variable de plantilla en su consulta de anotaciones para mostrar solo anotaciones para esos servicios.

image:media\image148.png[https://grafana.com/static/img/docs/v53/annotation_tag_filter_variable.png,width=624,height=307]

===== Consultar otras fuentes de datos

Los eventos de anotación se obtienen mediante consultas de anotación. Para agregar una nueva consulta de anotación a un tablero, abra el menú de configuración del tablero y luego seleccione Anotaciones. Esto abrirá la vista de configuración de anotaciones del tablero. Para crear una nueva consulta de anotación, presione el botón Nuevo.

image:media\image149.png[https://grafana.com/static/img/docs/v50/annotation_new_query.png,width=624,height=234]

Especifique un nombre para la consulta de anotación. Este nombre se le da a la palanca (casilla de verificación) que le permitirá habilitar/deshabilitar la visualización de eventos de anotación de esta consulta. Por ejemplo, puede tener dos consultas de anotación denominadas Implementaciones e Interrupciones. La palanca le permitirá decidir qué anotaciones mostrar.

====== Detalles de la consulta de anotación

Las opciones de consulta de anotación son diferentes para cada fuente de datos. Para obtener información sobre las anotaciones en una fuente de datos específica, consulte el tema de la fuente de datos específica.

=== Carpetas de tableros

==== Carpetas de tableros

Las carpetas son una forma de organizar y agrupar tableros, muy útil si tiene muchos tableros o varios equipos que utilizan la misma instancia de Grafana.

*Nota:* Solo los administradores y superadministradores de Grafana pueden crear, editar o eliminar carpetas. Consulte Roles de la organización para obtener más información.

===== Cómo crear una carpeta

* Cree una carpeta utilizando el enlace Crear carpeta en el menú lateral (debajo del menú Crear (icono +))
* Utilice el botón Crear carpeta en la página Administrar Tableros.
* Al guardar un tablero, puede elegir una carpeta para guardar el tablero o crear una nueva carpeta.

En la página Crear Carpeta, ingrese un nombre único para la carpeta y luego haga clic en Crear.

===== Administrar tableros

image:media\image150.png[https://grafana.com/static/img/docs/v50/manage_dashboard_menu.png,width=205,height=329]

Hay una nueva página Administrar Tableros donde puede realizar una variedad de tareas:

* crear una carpeta
* crear un tablero
* mover tableros a carpetas
* eliminar varios tableros
* navegue a una página de carpeta (donde puede establecer permisos para una carpeta y/o sus tableros)

===== Página de carpeta del tablero

Para llegar a la página de la carpeta del tablero, haga clic en el icono de engranaje que aparece cuando pasa el cursor sobre una carpeta en la lista del tablero en el resultado de la búsqueda o en la página Administrar Tableros.

La Página de la carpeta del tablero es similar a la página Administrar Tableros y es donde puede realizar las siguientes tareas:

* Le permite mover o eliminar tableros en una carpeta.
* Cambiar el nombre de una carpeta (en la pestaña Configuración).
* Configure los permisos para la carpeta (heredados por los tableros de la carpeta).

===== Permisos

Los permisos se pueden asignar a una carpeta y heredarlos a los tableros que contienen. Se utiliza una Lista de Control de Acceso (ACL) en la que se pueden asignar permisos al *Rol de la organización*, al *Equipo* y al *Usuario* individual. Lea los documentos de Permisos de Carpetas y Tableros para obtener más detalles sobre el sistema de permisos.

=== Lista de reproducción

==== Lista de reproducción

Una lista de reproducción es una lista de tableros que se muestran en una secuencia. Puede utilizar una lista de reproducción para crear conciencia de la situación o para presentar sus métricas a su equipo o visitantes.

Grafana escala automáticamente los tableros a cualquier resolución, lo que los hace perfectos para pantallas grandes.

Puede acceder a la función Lista de reproducción desde el menú lateral de Grafana, en el submenú Tableros.

image:media\image151.png[https://grafana.com/static/img/docs/v50/playlist.png,width=624,height=451]

===== Crear una lista de reproducción

Crea una lista de reproducción para presentar tableros en una secuencia, con un orden establecido y un intervalo de tiempo entre tableros.

[arabic]
. Para acceder a la función de lista de reproducción, coloque el cursor sobre el menú lateral de Grafana.
. Haz clic en *Listas de reproducción*.
. Haz clic en *Nueva lista de reproducción*.
. En el cuadro de texto *Nombre*, ingrese un nombre para su lista de reproducción.
. En el cuadro de texto *Intervalo*, ingrese un intervalo de tiempo.

El intervalo de tiempo es la cantidad de tiempo que Grafana permanece en un tablero en particular antes de avanzar al siguiente en la lista de reproducción.

[arabic]
. Junto a los tableros que desea agregar a su lista de reproducción, haga clic en *Agregar a lista de reproducción*.
. Haga clic en *Crear*.

===== Editar una lista de reproducción

Puede editar listas de reproducción mientras las crea o después de guardarlas.

[arabic]
. Para acceder a la función de lista de reproducción, coloque el cursor sobre el menú lateral de Grafana.
. Haz clic en *Listas de reproducción*.
. Haga clic en la Lista de reproducción que desea editar.

====== Editar el nombre de una lista de reproducción

[arabic]
. {blank}
+
____
Haga doble clic en el cuadro de texto *Nombre*.
____
. {blank}
+
____
Ingresa un nombre.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Editar el intervalo de una lista de reproducción

[arabic]
. {blank}
+
____
Haga doble clic en el cuadro de texto *Intervalo*.
____
. {blank}
+
____
Ingrese un intervalo de tiempo.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Agregar un tablero a una lista de reproducción

[arabic]
. {blank}
+
____
Junto al tablero que desea agregar, haga clic en *Agregar a lista de reproducción*.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Busque un tablero para agregar

[arabic]
. {blank}
+
____
Haga clic en el cuadro de texto *Buscar tableros por nombre*.
____
. {blank}
+
____
Busque la lista de reproducción por nombre o expresión regular.
____
. {blank}
+
____
Si es necesario, filtre sus resultados por estado destacado o etiquetas. De forma predeterminada, sus tableros destacados aparecerán como opciones para agregar a la lista de reproducción.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Reorganizar el orden de los tableros

[arabic]
. {blank}
+
____
Junto al tablero que desea mover, haga clic en la flecha hacia arriba o hacia abajo.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Quitar un tablero

[arabic]
. {blank}
+
____
Haga clic en *Eliminar* para eliminar un tablero de la lista de reproducción.
____
. {blank}
+
____
Haga clic en *Guardar* para guardar sus cambios.
____

====== Eliminar una lista de reproducción

[arabic]
. {blank}
+
____
Haz clic en *Listas de reproducción*.
____
. {blank}
+
____
Junto a la lista de reproducción que desea eliminar, haga clic en *Eliminar*.
____

===== Guardar una lista de reproducción

Puede guardar una lista de reproducción para agregarla a su página *Listas de reproducción*, donde puede iniciarla. Asegúrese de que todos los tableros que desea que aparezcan en su lista de reproducción se agreguen al crear o editar la lista de reproducción antes de guardarla.

[arabic]
. Para acceder a la función de Lista de reproducción, coloque el cursor sobre el menú lateral de Grafana.
. Haz clic en *Listas de reproducción*.
. Haga clic en la lista de reproducción.
. Edita la lista de reproducción.
* Asegúrese de que su lista de reproducción tenga un *Nombre*, *Intervalo* y al menos un *Tablero* agregado.
. Clic en *Guardar*.

===== Iniciar una lista de reproducción

Puede iniciar una lista de reproducción en cinco modos de vista diferentes, que determinan cómo se muestran los menús y la barra de navegación en los tableros.

De forma predeterminada, cada tablero se muestra durante la cantidad de tiempo ingresada en el campo Intervalo, que se puede configurar al crear o editar una lista de reproducción. Una vez que se inicia una lista de reproducción, se puede controlar usando la barra de navegación en la parte superior de la pantalla.

[arabic]
. En el submenú Tableros, haga clic en *Listas de reproducción*.
. Junto a la lista de reproducción que desea iniciar, haga clic en *Iniciar lista de reproducción*.
. En el menú desplegable, seleccione el modo en el que desea que se muestre la lista de reproducción.
* *Modo normal:*
** El menú lateral permanece visible.
** Los controles de la barra de navegación, la fila y el panel aparecen en la parte superior de la pantalla.
* *Modo TV:*
** El menú lateral está oculto / eliminado.
** Los controles de la barra de navegación, la fila y el panel aparecen en la parte superior de la pantalla.
** Se habilita automáticamente después de un minuto de inactividad del usuario.
** Puede habilitarlo manualmente usando el acceso directo de secuencia d v, o agregando el parámetro ?inactive a la URL del tablero.
** Puede desactivarlo con cualquier movimiento del mouse o acción del teclado.
* *Modo TV (con paneles de ajuste automático):*
** El menú lateral está oculto/eliminado.
** Los controles de la barra de navegación, la fila y el panel aparecen en la parte superior de la pantalla.
** Los paneles del tablero se ajustan automáticamente para optimizar el espacio en la pantalla.
* *Modo quiosco:*
** El menú lateral, la barra de navegación, los controles de filas y paneles están completamente ocultos / eliminados de la vista.
** Puede habilitarlo manualmente usando el acceso directo de secuencia d v después de que la lista de reproducción haya comenzado.
** Puede desactivarlo manualmente con el mismo atajo.
* *Modo quiosco (con paneles de ajuste automático):*
** El menú lateral, la barra de navegación, los controles de filas y paneles están completamente ocultos / eliminados de la vista.
** Los paneles del tablero se ajustan automáticamente para optimizar el espacio en la pantalla.

===== Controla una lista de reproducción

Puedes controlar una lista de reproducción en modo *Normal* o *TV* después de que se inicie, usando la barra de navegación en la parte superior de su pantalla.

[cols=",",options="header",]
|===
|Botón |Resultado
|Siguiente (flecha doble a la derecha) |Avanza al siguiente tablero.
|Atrás (flecha izquierda) |Vuelve al tablero anterior.
|Detener (cuadrado) |Finaliza la lista de reproducción y sale al tablero actual.
|Modo rotar vista (icono de monitor) |Gira la pantalla de los tableros en diferentes modos de vista.
|Rango de tiempo |Muestra datos dentro de un rango de tiempo. Puede configurarse para mostrar los últimos 5 minutos hasta hace 5 años, o un rango de tiempo personalizado, usando la flecha hacia abajo.
|Actualizar (flecha circular) |Vuelve a cargar el tablero para mostrar los datos actuales. Puede configurarse para actualizar automáticamente de 5 segundos a 1 día, usando la flecha desplegable.
|===

Atajo: presione la tecla Esc para detener la lista de reproducción desde su teclado.

===== Compartir una lista de reproducción en un modo de visualización

Puede compartir una lista de reproducción copiando la dirección del enlace en el modo de visualización que prefiera y pegando la URL en su destino.

[arabic]
. En el submenú Tableros, haga clic en *Listas de reproducción*.
. Junto a la lista de reproducción que desea compartir, haga clic en *Iniciar lista de reproducción*.
. En el menú desplegable, haga clic con el botón derecho en el modo de visualización que prefiera.
. Haga clic en *Copiar dirección de enlace* para copiar la URL a su portapapeles.

____
Ejemplo: la URL de la primera lista de reproducción en el sitio Grafana Play en modo Quiosco se verá así: https://play.grafana.org/playlists/play/1?kiosk.
____

[arabic, start=5]
. Pegue la URL en su destino.

=== Buscar

==== Buscar en el tablero

Los tableros se pueden buscar por el nombre del tablero, filtrar por una (o muchas) etiquetas o filtrar por estado destacado. Se accede a la búsqueda del tablero a través del selector de tablero, disponible en el área de navegación superior del tablero. La búsqueda del tablero también se puede abrir usando el atajo F.

image:media\image152.png[https://grafana.com/static/img/docs/v50/dashboard_search_annotated.png,width=624,height=474]

[arabic]
. *Barra de búsqueda:* la barra de búsqueda le permite ingresar cualquier cadena y buscar en la base de datos y en los tableros basados ​​en archivos en tiempo real.
. *Destacados:* aquí encontrará todos sus tableros destacados.
. *Reciente:* aquí encontrará los últimos tableros creados.
. *Carpetas:* el filtro de etiquetas le permite filtrar la lista por etiquetas del tablero.
. *Raíz:* la raíz contiene todos los tableros que no se colocan en una carpeta.
. *Etiquetas:* el filtro de etiquetas le permite filtrar la lista por etiquetas del tablero.

Cuando solo usa un teclado, puede usar las teclas de flecha del teclado para navegar por los resultados, presione enter para abrir el tablero seleccionado.

===== Buscar por nombre de tablero

Empiece a escribir cualquier parte de los nombres de los tableros deseados en la barra de búsqueda. La búsqueda devolverá resultados para cualquier coincidencia de cadena parcial en tiempo real, a medida que escribe.

La búsqueda del tablero es:

* Tiempo real
* No distingue entre mayúsculas y minúsculas
* Funcional en tableros almacenados y basados ​​en archivos.

===== Filtrar por etiqueta(s)

Las etiquetas son una excelente manera de organizar sus tableros, especialmente a medida que aumenta el número de tableros. Las etiquetas se pueden agregar y administrar en la configuración del tablero.

Para filtrar la lista del tablero por etiqueta, haga clic en cualquier etiqueta que aparezca en la columna de la derecha. La lista se puede filtrar aún más haciendo clic en etiquetas adicionales:

Alternativamente, para ver una lista de todas las etiquetas disponibles, haga clic en el menú desplegable de etiquetas. Se mostrarán todas las etiquetas y, cuando se seleccione una etiqueta, la búsqueda del tablero se filtrará instantáneamente:

Cuando se usa solo un teclado: tab para enfocarse en el enlace de _etiquetas_, ▼ tecla de flecha hacia abajo para buscar una etiqueta y seleccionar con la tecla Enter.

*Nota:* Cuando se seleccionan varias etiquetas, Grafana mostrará tableros que las incluyen todas.

=== Atajos de teclado

==== Atajos de teclado

Grafana tiene varios atajos de teclado disponibles. Presione Shift + ? en su teclado para mostrar todos los atajos de teclado disponibles en su versión de Grafana.

*Atajos populares:*

* Ctrl+S guarda el tablero actual.
* Ctrl+F abre el buscador/búsqueda del tablero.
* Ctrl+H oculta todos los controles (bueno para pantallas de televisión).
* Presione Escape para salir del gráfico cuando esté en pantalla completa o en modo de edición.

=== Controles de rango de tiempo

==== Controles de rango de tiempo

Grafana proporciona varias formas de administrar los rangos de tiempo de los datos que se visualizan, tanto a nivel del tablero como a nivel del panel.

Esta página describe las unidades de tiempo admitidas y los rangos relativos, los controles de tiempo comunes, la configuración de tiempo de todo el tablero y la configuración de tiempo específica del panel.

===== Unidades de tiempo y rangos relativos

Se admiten las siguientes unidades de tiempo: s (segundos), m (minutos), h (horas), d (días), w (semanas), M (meses), y (años).

El operador menos le permite retroceder en el tiempo, en relación con el ahora. Si desea mostrar el período completo de la unidad (día, semana, mes, etc.), agregue /<time unit> al final.

El operador más le permite avanzar en el tiempo en relación con el ahora. Puede utilizar esta función para ver datos pronosticados en el futuro, por ejemplo.

Aquí hay unos ejemplos:

[cols=",,",options="header",]
|===
|Ejemplo de rango relativo |Desde: |Hasta:
|Últimos 5 minutos |now-5m |now
|El día hasta ahora |now/d |now
|Esta semana |now/w |now/w
|Esta semana hasta ahora |now/w |now
|Este mes |now/M |now/M
|Este mes hasta ahora |now/M |now
|Mes anterior |now-1M/M |now-1M/M
|Este año hasta ahora |now/Y |now
|Este año |now/Y |`now/Y
|===

===== Controles de rango de tiempo común

El tablero y los controles de tiempo del panel tienen una interfaz de usuario (UI) común.

image:media\image153.png[https://grafana.com/static/img/docs/time-range-controls/common-time-controls-7-0.png,width=452,height=76]

Las opciones se definen a continuación.

====== Rango de tiempo actual

El rango de tiempo actual, también llamado _selector de tiempo_, muestra el rango de tiempo que se muestra actualmente en el tablero o panel que está viendo.

Pase el cursor sobre el campo para ver las marcas de tiempo exactas en el rango y su fuente (como el navegador local).

image:media\image154.png[https://grafana.com/static/img/docs/time-range-controls/time-picker-7-0.png,width=262,height=223]

Haga clic en el rango de tiempo actual para cambiar el rango de tiempo. Puede cambiar la hora actual utilizando un rango de tiempo relativo, como los últimos 15 minutos, o un rango de tiempo absoluto, como 2020-05-14 00:00:00 to 2020-05-15 23:59:59.

image:media\image155.png[https://grafana.com/static/img/docs/time-range-controls/change-current-time-range-7-0.png,width=624,height=471]

====== Rango de tiempo relativo

Seleccione el intervalo de tiempo relativo de la lista de *Intervalos de tiempo relativos*. Algunos ejemplos de rangos de tiempo son:

* Últimos 30 minutos
* Últimas 12 horas
* Últimos 7 días
* Últimos 2 años
* Ayer
* Anteayer
* Este día la semana pasada
* Hoy hasta ahora
* Esta semana hasta ahora
* Este mes hasta ahora

====== Rango de tiempo absoluto

Establezca un intervalo de tiempo absoluto de dos formas:

* Escriba valores en los campos *Desde* y *Hasta*. Puede escribir valores de tiempo exactos o valores relativos, como now-24h, y luego hacer clic en *Aplicar rango de tiempo*.
* Haga clic en el campo *Desde* o *Hasta*. Grafana muestra un calendario. Haga clic en el día o los días que desea usar como rango de tiempo actual y luego haga clic en *Aplicar rango de tiempo*.

Esta sección también muestra los rangos absolutos usados ​​recientemente.

====== Alejar (Cmd+Z o Ctrl+Z)

Haga clic en el icono *Alejar* para ver un intervalo de tiempo más grande en el tablero o visualización del panel.

====== Acercar (solo aplicable a visualizaciones de gráficos)

Haga clic y arrastre para seleccionar el rango de tiempo en la visualización que desea ver.

====== Actualizar el tablero

Haga clic en el icono *Actualizar tablero* para ejecutar inmediatamente todas las consultas en el tablero y actualizar las visualizaciones. Grafana cancela cualquier solicitud pendiente cuando se activa una nueva actualización.

De forma predeterminada, Grafana no actualiza automáticamente el tablero. Las consultas se ejecutan en su propio horario de acuerdo con la configuración del panel. Sin embargo, si desea actualizar periódicamente el tablero, haga clic en la flecha hacia abajo junto al icono *Actualizar tablero* y luego seleccione un intervalo de actualización.

===== Configuración de tiempo del tablero

La configuración de tiempo se guarda por tablero.

Para acceder a la configuración de tiempo del tablero, haga clic en el icono de *configuración del Tablero* (engranaje) en la parte superior de la pantalla. La configuración se encuentra en la sección *Opciones de tiempo* de la pestaña General.

* *Zona horaria:* especifique la zona horaria local del servicio o sistema que está supervisando. Esto puede resultar útil al monitorear un sistema o servicio que opera en varias zonas horarias.
** *Predeterminado:* se utiliza la zona horaria seleccionada predeterminada para el perfil de usuario, el equipo o la organización. Si no se especifica una zona horaria para el perfil de usuario, un equipo del que el usuario es miembro o la organización, entonces Grafana usa la hora del navegador local.
** *Hora local del navegador:* se utiliza la zona horaria configurada para el navegador del usuario de visualización. Esta suele ser la misma zona horaria que la configurada en la computadora.
** Zonas horarias estándar ISO 8601, incluido UTC.
* *Actualización automática:* personalice las opciones que se muestran por tiempo relativo y las opciones de actualización automática. Las entradas están separadas por comas y aceptan cualquier unidad de tiempo válida.
* *Ahora retrasa ahora:* anule el valor now introduciendo un retraso de tiempo. Por lo general, esta función se utiliza para adaptarse a retrasos conocidos en la agregación de datos para evitar valores nulos.
* *Ocultar selector de tiempo:* seleccione esta opción si no desea que Grafana muestre el selector de tiempo.

===== Anulaciones de tiempo del panel y cambio de tiempo

En las Opciones de consulta, puede anular el intervalo de tiempo relativo para paneles individuales, lo que hace que sean diferentes de lo que está seleccionado en el selector de tiempo del tablero en la parte superior derecha. Esto le permite mostrar métricas de diferentes períodos de tiempo o días al mismo tiempo.

===== Controle el rango de tiempo usando una URL

El rango de tiempo de un tablero se puede controlar proporcionando los siguientes parámetros de consulta en la URL del panel:

* from: define el límite inferior del rango de tiempo, especificado en ms epoch o tiempo relativo
* to: define el límite superior del rango de tiempo, especificado en ms epoch o tiempo relativo
* time y time.window: define un rango de tiempo desde time-time.window/2 hasta time+time.window/2. Ambos parámetros deben especificarse en ms. Por ejemplo ?time=1500000000000&time.window=10000 dará como resultado un rango de tiempo de 10s desde 1499999995000 a 1500000005000

=== Reportando

==== Reportando

La generación de informes le permite generar archivos PDF desde cualquiera de sus paneles y enviarlos a las partes interesadas según un cronograma.

image:media\image156.png[https://grafana.com/static/img/docs/enterprise/reports_list.png,width=624,height=207]

Los informes solo están disponibles en Grafana Enterprise, v6.4 o posterior. Para obtener más información, consulte Reportes en Grafana Enterprise.

=== Historial de versiones del tablero

==== Historial de versiones del tablero

Siempre que guarde una versión de su tablero, se guarda una copia de esa versión para que las versiones anteriores de su tablero nunca se pierdan. Una lista de estas versiones está disponible ingresando a la configuración del tablero y luego seleccionando "Versiones" en el menú del lado izquierdo.

image:media\image157.png[https://grafana.com/static/img/docs/v50/dashboard_versions_list.png,width=624,height=312]

La función de historial de versiones del tablero le permite comparar y restaurar versiones del tablero guardadas previamente.

===== Comparación de dos versiones de tablero

Para comparar dos versiones del tablero, seleccione las dos versiones de la lista que desea comparar. Una vez seleccionado, se podrá hacer clic en el botón "Comparar versiones". Haga clic en el botón para ver la diferencia entre las dos versiones.

image:media\image158.png[https://grafana.com/static/img/docs/v50/dashboard_versions_select.png,width=624,height=312]

Al hacer clic en el botón, accederá a la vista de diferencias. De forma predeterminada, verá un resumen textual de los cambios, como en la imagen a continuación.

image:media\image159.png[https://grafana.com/static/img/docs/v50/dashboard_versions_diff_basic.png,width=624,height=312]

Si desea ver las diferencias del JSON sin procesar que representa su tablero, también puede hacerlo haciendo clic en el botón "Ver diferencias JSON" en la parte inferior.

Si desea restaurar a la versión con la que se diferencia, puede hacerlo haciendo clic en el botón "Restaurar a la versión <x>" en la parte superior derecha.

===== Restaurar a una versión de tablero previamente guardada

Si necesita restaurar a una versión del tablero previamente guardada, puede hacerlo haciendo clic en el botón "Restaurar" a la derecha de una fila en la lista de versiones del tablero o haciendo clic en el botón "Restaurar a la versión <x>" que aparece en la vista de diferencias. Al hacer clic en el botón, aparecerá la siguiente ventana emergente que le pedirá que confirme la restauración.

image:media\image160.png[https://grafana.com/static/img/docs/v50/dashboard_versions_restore.png,width=624,height=312]

Después de restaurar a una versión anterior, se creará una nueva versión que contiene los mismos datos exactos que la versión anterior, solo que con un número de versión diferente. Esto se indica en la “columna Notas” de la fila de la nueva versión del tablero. Esto se hace simplemente para garantizar que las versiones anteriores del tablero no se vean afectadas por el cambio.

=== Exportar e importar

==== Exportar e importar

Los Tableros de Grafana se pueden exportar e importar fácilmente, ya sea desde la interfaz de usuario o desde la API HTTP.

===== Exportar un tablero

Los tableros se exportan en formato Grafana JSON y contienen todo lo que necesita (diseño, variables, estilos, fuentes de datos, consultas, etc.) para importar el tablero en un momento posterior.

Se accede a la función de exportación en la ventana de compartir que se abre haciendo clic en el botón de compartir en el menú del tablero.

image:media\image161.png[https://grafana.com/static/img/docs/export/export-modal.png,width=624,height=210]

====== Hacer un tablero portátil

Si desea exportar un tablero para que otros lo usen, podría ser una buena idea agregar variables de plantilla para cosas como un prefijo de métrica (use una variable constante) y el nombre del servidor.

Una variable de plantilla del tipo Constant se ocultará automáticamente en el tablero y también se agregará como entrada requerida cuando se importe el tablero.

===== Importar un tablero

Para importar un tablero, haga clic en el icono + en el menú lateral y luego haga clic en *Importar*.

image:media\image162.png[https://grafana.com/static/img/docs/v70/import_step1.png,width=624,height=403]

Desde aquí puede cargar un archivo JSON de tablero, pegar una URL de tablero de Grafana.com o pegar el texto JSON del tablero directamente en el área de texto.

En el paso 2 del proceso de importación, Grafana le permitirá cambiar el nombre del tablero, elegir qué fuente de datos desea que use el tablero y especificar cualquier prefijo de métrica (si el tablero usa alguno).

===== Descubra tableros en Grafana.com

Encuentre tableros para aplicaciones de servidor comunes en Grafana.com/dashboards.

image:media\image163.png[https://grafana.com/static/img/docs/v50/gcom_dashboard_list.png,width=624,height=361]

===== Importar y compartir con Grafana 2.xo 3.0

Los tableros de Grafana.com utilizan una nueva función en Grafana 3.1 que permite que el proceso de importación actualice cada panel para que utilicen una fuente de datos de su elección. Si está ejecutando una versión de Grafana anterior a la 3.1, es posible que deba realizar algunos pasos manuales antes o después de la importación para que el tablero funcione correctamente.

Los tableros exportados desde Grafana 3.1+ tienen una nueva sección json __inputs que define qué fuentes de datos y prefijos métricos usa el tablero.

Ejemplo:

\{

"__inputs": [

\{

"name": "DS_GRAPHITE",

"label": "graphite",

"description": "",

"type": "datasource",

"pluginId": "graphite",

"pluginName": "Graphite"

},

\{

"name": "VAR_PREFIX",

"type": "constant",

"label": "prefix",

"value": "collectd",

"description": ""

}

]

}

Luego, se hace referencia a estos en los paneles del tablero de la siguiente manera:

\{

"rows": [

\{

"panels": [

\{

"type": "graph",

"datasource": "$\{DS_GRAPHITE}"

}

]

}

]

}

Estas entradas y su uso en las propiedades de la fuente de datos se agregan automáticamente durante la exportación en Grafana 3.1. Si ejecuta una versión anterior de Grafana y desea compartir un tablero en Grafana.com, debe agregar manualmente las entradas y crear plantillas de las propiedades de la fuente de datos como se indicó anteriormente.

Si desea importar un tablero de Grafana.com a una versión anterior de Grafana, puede importarlo como de costumbre y luego actualizar la opción de fuente de datos en la pestaña de métricas para que el panel utilice la fuente de datos correcta. Otra alternativa es abrir el archivo json en un editor de texto y actualizar las propiedades de la fuente de datos a un valor que coincida con el nombre de su fuente de datos.

===== Nota

En Grafana v5.3.4 +, el modal de exportación tiene una nueva casilla de verificación para compartir para uso externo (otras instancias). Si la casilla de verificación no está marcada, la sección __inputs no se incluirá en el archivo JSON exportado.

=== Modelo JSON

==== Modelo JSON de tablero

Un tablero en Grafana está representado por un objeto JSON, que almacena metadatos de su tablero. Los metadatos del tablero incluyen propiedades del tablero, metadatos de paneles, variables de plantilla, consultas de panel, etc.

Para ver el JSON de un panel:

[arabic]
. {blank}
+
____
Navegue a un tablero.
____
. {blank}
+
____
En el menú de navegación superior, haga clic en el icono de *Configuración del tablero* (engranaje).
____
. {blank}
+
____
Haga clic en *Modelo JSON*.
____

===== Campos JSON

Cuando un usuario crea un tablero nuevo, se inicializa un objeto JSON de tablero nuevo con los siguientes campos:

*Nota:* En el siguiente JSON, id se muestra como nulo, que es el valor predeterminado que se le asigna hasta que se guarda un tablero. Una vez que se guarda un tablero, se asigna un valor entero al campo id.

\{

"id": null,

"uid": "cLV5GDCkz",

"title": "New dashboard",

"tags": [],

"style": "dark",

"timezone": "browser",

"editable": true,

"hideControls": false,

"graphTooltip": 1,

"panels": [],

"time": \{

"from": "now-6h",

"to": "now"

},

"timepicker": \{

"time_options": [],

"refresh_intervals": []

},

"templating": \{

"list": []

},

"annotations": \{

"list": []

},

"refresh": "5s",

"schemaVersion": 17,

"version": 0,

"links": []

}

Cada campo del JSON del tablero se explica a continuación con su uso:

[cols=",",options="header",]
|===
|Nombre |Uso
|*id* |identificador numérico único para el tablero. (generado por la base de datos)
|*uid* |identificador de tablero único que puede ser generado por cualquier persona. cadena (8-40)
|*title* |título actual del tablero
|*tags* |etiquetas asociadas con el tablero, una matriz de cadenas
|*style* |tema del tablero, es decir, oscuro o claro
|*timezone* |zona horaria del tablero, es decir, utc o browser
|*editable* |si un tablero es editable o no
|*graphTooltip* |0 para ninguna cruz compartida o información sobre herramientas (predeterminado), 1 para cruz compartida, 2 para cruz compartida E información sobre herramientas compartida
|*time* |intervalo de tiempo para el tablero, es decir, últimas 6 horas, últimos 7 días, etc.
|*timepicker* |metadatos de selector de tiempo, consulte la sección de selector de tiempo para obtener más detalles
|*templating* |metadatos de plantillas, consulte la sección de plantillas para obtener más detalles
|*annotations* |metadatos de anotaciones, consulte la sección de anotaciones para obtener más detalles
|*refresh* |el intervalo de actualización automática
|*schemaVersion* |versión del esquema JSON (int), que se incrementa cada vez que una actualización de Grafana trae cambios a dicho esquema
|*version* |versión del tablero (int), que se incrementa cada vez que se actualiza el tablero
|*panels* |Matriz de paneles, consulte los detalles a continuación.
|===

===== Paneles

Los paneles son los componentes básicos de un tablero. Consiste en consultas de fuentes de datos, tipo de gráficos, alias, etc. El panel JSON consiste en una matriz de objetos JSON, cada uno de los cuales representa un panel diferente. La mayoría de los campos son comunes para todos los paneles, pero algunos campos dependen del tipo de panel. A continuación se muestra un ejemplo de panel JSON de un panel de texto.

"panels": [

\{

"type": "text",

"title": "Panel Title",

"gridPos": \{

"x": 0,

"y": 0,

"w": 12,

"h": 9

},

"id": 4,

"mode": "markdown",

"content": "/* title"

}

====== Tamaño y posición del panel

La propiedad gridPos describe el tamaño y la posición del panel en coordenadas de cuadrícula.

* w 1-24 (el ancho del tablero se divide en 24 columnas)
* h En unidades de altura de cuadrícula, cada una representa 30 píxeles.
* x La posición x, en la misma unidad que w.
* y La posición y, en la misma unidad que h.

La cuadrícula tiene una gravedad negativa que mueve los paneles hacia arriba si hay un espacio vacío encima de un panel.

====== timepicker (selector de tiempo)

"timepicker": \{

"collapse": false,

"enable": true,

"notice": false,

"now": true,

"refresh_intervals": [

"5s",

"10s",

"30s",

"1m",

"5m",

"15m",

"30m",

"1h",

"2h",

"1d"

],

"status": "Stable",

"type": "timepicker"

}

El uso de los campos se explica a continuación:

[cols=",",options="header",]
|===
|Nombre |Uso
|*collapse* |si el selector de tiempo está colapsado o no
|*enable* |si el selector de tiempo está habilitado o no
|*notice* |TODO
|*now* |TODO
|*refresh_intervals* |TODO
|*status* |TODO
|*type* |TODO
|===

====== templating (plantillas)

El campo templating contiene una matriz de variables de plantilla con sus valores guardados junto con algunos otros metadatos, por ejemplo:

"templating": \{

"enable": true,

"list": [

\{

"allFormat": "wildcard",

"current": \{

"tags": [],

"text": "prod",

"value": "prod"

},

"datasource": null,

"includeAll": true,

"name": "env",

"options": [

\{

"selected": false,

"text": "All",

"value": "*"

},

\{

"selected": false,

"text": "stage",

"value": "stage"

},

\{

"selected": false,

"text": "test",

"value": "test"

}

],

"query": "tag_values(cpu.utilization.average,env)",

"refresh": false,

"type": "query"

},

\{

"allFormat": "wildcard",

"current": \{

"text": "apache",

"value": "apache"

},

"datasource": null,

"includeAll": false,

"multi": false,

"multiFormat": "glob",

"name": "app",

"options": [

\{

"selected": true,

"text": "tomcat",

"value": "tomcat"

},

\{

"selected": false,

"text": "cassandra",

"value": "cassandra"

}

],

"query": "tag_values(cpu.utilization.average,app)",

"refresh": false,

"regex": "",

"type": "query"

}

]

}

El uso de los campos mencionados anteriormente en la sección de plantillas se explica a continuación:

[cols=",",options="header",]
|===
|Nombre |Uso
|*enable* |si la creación de plantillas está habilitada o no
|*list* |una matriz de objetos, cada uno representando una variable de plantilla
|*allFormat* |formato para usar al obtener todos los valores de la fuente de datos, por ejemplo: wildcard, glob, regex, pipe, etc.
|*current* |muestra el texto/valor de la variable seleccionada en el tablero actual
|*data source* |muestra la fuente de datos para las variables
|*includeAll* |si todas las opciones de valor están disponibles o no
|*multi* |si se pueden seleccionar o no varios valores de la lista de valores de variable
|*multiFormat* |para usar mientras se obtienen series temporales de la fuente de datos
|*name* |nombre de la variable
|*options* |matriz de de pares de variables valores/texto disponibles para su selección en el tablero
|*query* |consulta de fuente de datos utilizada para obtener valores para una variable
|*refresh* |TODO
|*regex* |TODO
|*type* |tipo de variable, es decir, custom, query o interval
|===